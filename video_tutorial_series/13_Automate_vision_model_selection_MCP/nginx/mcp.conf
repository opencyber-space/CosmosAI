# nginx/mcp.conf  (single virtual-host)

server {
    listen 80;                    # inside the compose network

    # 1. Registry-of-registries  (ror → :8100)
    location /ror/ {
        proxy_pass http://ror:8100/;         # trailing / important!
    }

    # 2. OpenOS Assets Registry  (openos-assets → :8101)
    location /openos-assets/ {
        proxy_pass http://openos-assets:8101/;
    }

    # 3. Pipeline composer
    location /pipeline-composer/ {
        proxy_pass http://pipeline-composer:8102/;
    }

    # 4. RoadNet Assets Registry
    location /roadnet-assets/ {
        proxy_pass http://roadnet-assets:8103/;
    }

    # 5. AICenter Assets Registry
    location /aicenter-assets/ {
        proxy_pass http://aicenter-assets:8104/;
    }

    # 6. Model-bank tools
    location /openos-models/ {
        proxy_pass http://openos-models:8110/;
    }

    location /roadnet-models/ {
        proxy_pass http://roadnet-models:8111/;
    }

    location /aicenter-models/ {
        proxy_pass http://aicenter-models:8112/;
    }

    # (optional) add_header for CORs, timeouts, etc., as needed
}
