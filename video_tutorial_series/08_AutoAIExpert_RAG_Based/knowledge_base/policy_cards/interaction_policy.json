{
  "componentId": "interaction",
  "componentType": "node.algorithm.policy",
  "id": "pol-interaction",
  "label": "Policy",
  "name": "Interaction Policy", 
  "category": "pose_analysis",
  "framework": "OpenCV + NumPy",
  "license": "MIT",
  "repo_url": "https://opencv.org/",

  "modelDetails": {
    "description": "Based on pose estimation keypoints from OD1 props field, this policy checks if the user is performing a specific activity or action. It can be used to validate if the user is following a certain movement pattern.",
    "intended_use": "Detect interactions and activities based on pose keypoints stored in OD1 props.pose_keypoints for surveillance and monitoring applications",
    "limitations": ["Requires accurate pose estimation in OD1 props", "Threshold tuning needed per camera setup", "Limited to predefined interaction types"],
    "ethical_considerations": "Ensure interaction detection respects privacy and is used appropriately"
  },

  "parameters": {
    "computational_complexity": "O(n*k) where n=persons, k=keypoints",
    "dependencies": ["opencv-python", "numpy"],
    "memory_footprint": "Low",
    "processing_type": "geometric_analysis"
  },

  "configuration": {
    "activity_type": {
      "description": "Type of activity to check",
      "type": "string", 
      "allowed_values": ["action", "angle_keypoints", "interaction", "standing", "waving"],
      "default": "interaction"
    },
    "selected_keypoints": {
      "description": "Keypoints to consider for activity check per person",
      "type": "dict",
      "example": {"person1": ["left_wrist", "right_wrist"], "person2": ["left_ear", "right_ear"]},
      "dynamic": true
    },
    "threshold": {
      "description": "Pixel distance threshold for keypoint proximity check",
      "type": "float",
      "default": 50.0,
      "range": [10.0, 200.0]
    },
    "N_violating_keypoints": {
      "description": "Number of keypoints that can violate threshold",
      "type": "integer",
      "default": 2,
      "range": [0, 10]
    },
    "action": {
      "description": "List of actions to check when activity_type is 'action'",
      "type": "list",
      "options": ["wave", "hand_raise", "pointing", "clapping"],
      "default": ["wave"]
    },
    "angle_keypoints": {
      "description": "Keypoint pairs for angle measurements",
      "type": "list",
      "example": [["right_wrist", "nose"], ["right_wrist", "right_elbow"]],
      "default": []
    }
  },

  "runtime": {
    "cpu_intensive": false,
    "gpu_required": false,
    "min_ram_mb": 200,
    "recommended_cpu": "Any modern CPU",
    "python_version": "3.8+",
    "dependencies": {
      "opencv-python": ">=4.5.0",
      "numpy": ">=1.19.0"
    }
  },

  "benchmarks": {
    "throughput": {
      "persons_per_second": 200,
      "interactions_supported": 10,
      "latency_ms": 5
    },
    "accuracy": {
      "interaction_detection": 87.5,
      "action_recognition": 82.3,
      "false_positive_rate": 0.12
    }
  },

  "produces": ["interaction_detected", "activity_confidence", "keypoint_violations"],
  "consumes": ["od1_list"],
  
  "input_formats": ["OD1"],
  "output_formats": ["OD1"],

  "sources": [
    {
      "title": "OpenCV Documentation", 
      "url": "https://opencv.org/"
    },
    {
      "title": "Pose-based Interaction Recognition",
      "url": "https://arxiv.org/abs/pose-interaction"
    }
  ],

  "notes": "Works with OD1 format where pose keypoints are stored in props.pose_keypoints field. Threshold tuning required for different camera setups. Supports both single-person activities and multi-person interactions. Uses COCO-17 keypoint format from pose estimation models."
}
