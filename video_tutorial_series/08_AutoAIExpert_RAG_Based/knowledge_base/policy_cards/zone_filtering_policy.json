{
  "componentId": "zone_filtering",
  "componentType": "node.algorithm.policy",
  "id": "pol-zone-filtering",
  "label": "Policy",
  "name": "Zone Filtering Policy",
  "category": "spatial_filter",
  "framework": "Shapely + NumPy",
  "license": "MIT",
  "repo_url": "https://github.com/aios/policies",

  "modelDetails": {
    "description": "Advanced spatial filtering policy that filters detections based on their presence within predefined zones using multiple intersection methods",
    "intended_use": "Filter objects based on spatial zone membership with configurable intersection criteria for surveillance and monitoring applications",
    "limitations": ["Requires predefined zone polygons", "Performance scales with zone complexity", "Shapely dependency for complex intersection calculations"],
    "ethical_considerations": "Ensure zone definitions do not introduce bias in spatial filtering applications"
  },

  "parameters": {
    "computational_complexity": "O(n*m*k) where n=objects, m=zones, k=polygon vertices",
    "dependencies": ["shapely", "numpy"],
    "memory_footprint": "Medium",
    "processing_type": "geometric_intersection_analysis"
  },

  "configuration": {
    "intersection_threshold": {
      "description": "Minimum intersection over box area ratio to consider an object in a zone",
      "type": "float",
      "default": 0.5,
      "range": [0.1, 1.0]
    },
    "reference_point": {
      "description": "Which point of the bounding box to use for zone checking",
      "type": "string",
      "allowed_values": ["center", "bottom_center", "entire_box"],
      "default": "bottom_center"
    },
    "include_zones": {
      "description": "List of zone names to include (if empty, all zones are included)",
      "type": "list",
      "default": []
    },
    "exclude_zones": {
      "description": "List of zone names to exclude",
      "type": "list",
      "default": []
    },
    "zones": {
      "description": "Dictionary of zone definitions with polygon coordinates",
      "type": "dict",
      "format": "{'zone_name': [[x1,y1], [x2,y2], ...]}",
      "dynamic": true
    }
  },

  "dynamic_parameters": {
    "supports_runtime_updates": true,
    "updateable_parameters": ["intersection_threshold", "reference_point", "include_zones", "exclude_zones", "zones"],
    "update_latency_ms": 15,
    "api_endpoints": {
      "update_zones": "/api/v1/policies/zone_filtering/update_zones",
      "update_thresholds": "/api/v1/policies/zone_filtering/update_thresholds"
    }
  },

  "runtime": {
    "cpu_intensive": true,
    "gpu_required": false,
    "min_ram_mb": 300,
    "recommended_cpu": "Multi-core CPU for complex polygon operations",
    "python_version": "3.7+",
    "dependencies": {
      "shapely": ">=1.7.0",
      "numpy": ">=1.18.0"
    }
  },

  "benchmarks": {
    "throughput": {
      "objects_per_second": 2000,
      "max_zones_supported": 50,
      "latency_ms_per_100_objects": 25
    },
    "accuracy": {
      "intersection_precision": 0.98,
      "point_in_polygon_accuracy": "Â±1 pixel",
      "zone_membership_accuracy": 0.99
    }
  },

  "produces": ["filtered_detections", "zone_metadata", "zone_counts"],
  "consumes": ["positioned_detections", "zone_definitions"],
  
  "input_formats": ["OD1"],
  "output_formats": ["OD1"],

  "sources": [
    {
      "title": "Computational Geometry: Point-in-Polygon Algorithms",
      "url": "https://en.wikipedia.org/wiki/Point_in_polygon"
    },
    {
      "title": "Shapely Documentation",
      "url": "https://shapely.readthedocs.io/"
    }
  ],

  "notes": "Efficient zone-based filtering with multiple intersection methods. Supports complex polygon zones and runtime zone updates. Performance optimized for typical surveillance scenarios."
}